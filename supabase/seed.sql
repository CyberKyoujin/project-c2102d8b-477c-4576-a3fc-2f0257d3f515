-- ================================================
-- SEED DATA для MedCare MVP
-- Виконати після створення таблиць
-- ================================================

-- Примітка: Цей файл містить тестові дані
-- НЕ використовувати в production!

-- ================================================
-- 1. ПОСЛУГИ
-- ================================================

INSERT INTO public.services (id, name, description, price, duration_minutes, category, is_active) VALUES
  ('11111111-1111-1111-1111-111111111111', 'Внутрішньом''язові ін''єкції', 'Професійне виконання ін''єкцій в домашніх умовах', 150.00, 15, 'injections', true),
  ('11111111-1111-1111-1111-111111111112', 'Внутрішньовенні ін''єкції', 'Внутрішньовенне введення препаратів', 200.00, 20, 'injections', true),
  ('11111111-1111-1111-1111-111111111113', 'Крапельниці', 'Інфузійна терапія вдома', 350.00, 60, 'infusions', true),
  ('11111111-1111-1111-1111-111111111114', 'Перев''язки', 'Професійна обробка та перев''язка ран', 200.00, 30, 'wound_care', true),
  ('11111111-1111-1111-1111-111111111115', 'Зняття швів', 'Зняття хірургічних швів', 180.00, 20, 'wound_care', true),
  ('11111111-1111-1111-1111-111111111116', 'Вимірювання тиску та пульсу', 'Контроль артеріального тиску', 80.00, 10, 'diagnostics', true),
  ('11111111-1111-1111-1111-111111111117', 'Забір крові', 'Забір крові для аналізів', 150.00, 15, 'diagnostics', true),
  ('11111111-1111-1111-1111-111111111118', 'Постановка катетера', 'Встановлення сечового катетера', 300.00, 30, 'procedures', true),
  ('11111111-1111-1111-1111-111111111119', 'Клізма', 'Очисна клізма', 250.00, 30, 'procedures', true),
  ('11111111-1111-1111-1111-111111111120', 'Догляд за лежачими хворими', 'Комплексний догляд (1 година)', 400.00, 60, 'care', true);

-- ================================================
-- 2. ТЕСТОВІ КОРИСТУВАЧІ (profiles)
-- Примітка: auth.users створюються через Supabase Auth
-- Ці записи - приклади структури для ручного тестування
-- ================================================

-- Пацієнт 1: Марія Коваленко
INSERT INTO public.profiles (id, email, full_name, phone, address, city, created_at) VALUES
  ('22222222-2222-2222-2222-222222222221', 'maria.kovalenko@test.com', 'Марія Коваленко', '+380501234567', 'вул. Шевченка, 15, кв. 4', 'Тернопіль', NOW());

-- Пацієнт 2: Олег Бондаренко  
INSERT INTO public.profiles (id, email, full_name, phone, address, city, created_at) VALUES
  ('22222222-2222-2222-2222-222222222222', 'oleg.bondarenko@test.com', 'Олег Бондаренко', '+380671234567', 'вул. Грушевського, 28', 'Тернопіль', NOW());

-- Пацієнт 3: Наталія Мельник
INSERT INTO public.profiles (id, email, full_name, phone, address, city, created_at) VALUES
  ('22222222-2222-2222-2222-222222222223', 'natalia.melnyk@test.com', 'Наталія Мельник', '+380631234567', 'вул. Руська, 5, кв. 12', 'Тернопіль', NOW());

-- Медсестра 1: Оксана Петренко
INSERT INTO public.profiles (id, email, full_name, phone, address, city, created_at) VALUES
  ('33333333-3333-3333-3333-333333333331', 'oksana.petrenko@medcare.com', 'Оксана Петренко', '+380991234567', 'вул. Львівська, 10', 'Тернопіль', NOW());

-- Медсестра 2: Ірина Савченко
INSERT INTO public.profiles (id, email, full_name, phone, address, city, created_at) VALUES
  ('33333333-3333-3333-3333-333333333332', 'iryna.savchenko@medcare.com', 'Ірина Савченко', '+380981234567', 'вул. Бродівська, 22', 'Тернопіль', NOW());

-- Медсестра 3: Тетяна Кравчук
INSERT INTO public.profiles (id, email, full_name, phone, address, city, created_at) VALUES
  ('33333333-3333-3333-3333-333333333333', 'tetyana.kravchuk@medcare.com', 'Тетяна Кравчук', '+380971234567', 'вул. Микулинецька, 8', 'Тернопіль', NOW());

-- Адміністратор
INSERT INTO public.profiles (id, email, full_name, phone, address, city, created_at) VALUES
  ('44444444-4444-4444-4444-444444444441', 'admin@medcare.com', 'Адміністратор Системи', '+380501111111', 'вул. Центральна, 1', 'Тернопіль', NOW());

-- ================================================
-- 3. РОЛІ КОРИСТУВАЧІВ
-- ================================================

-- Пацієнти
INSERT INTO public.user_roles (user_id, role) VALUES
  ('22222222-2222-2222-2222-222222222221', 'patient'),
  ('22222222-2222-2222-2222-222222222222', 'patient'),
  ('22222222-2222-2222-2222-222222222223', 'patient');

-- Медсестри
INSERT INTO public.user_roles (user_id, role) VALUES
  ('33333333-3333-3333-3333-333333333331', 'nurse'),
  ('33333333-3333-3333-3333-333333333332', 'nurse'),
  ('33333333-3333-3333-3333-333333333333', 'nurse');

-- Адмін
INSERT INTO public.user_roles (user_id, role) VALUES
  ('44444444-4444-4444-4444-444444444441', 'admin');

-- ================================================
-- 4. ПРОФІЛІ МЕДСЕСТЕР
-- ================================================

INSERT INTO public.nurses (id, user_id, specialization, experience_years, rating, is_available, service_areas, bio) VALUES
  ('55555555-5555-5555-5555-555555555551', '33333333-3333-3333-3333-333333333331', 
   'Загальна практика', 8, 4.9, true, 
   ARRAY['Центральний район', 'Старий парк', 'Дружба'],
   'Досвідчена медсестра з 8-річним стажем. Спеціалізуюсь на ін''єкціях та крапельницях.'),
  
  ('55555555-5555-5555-5555-555555555552', '33333333-3333-3333-3333-333333333332',
   'Хірургічна', 5, 4.7, true,
   ARRAY['Аляска', 'БАМ', 'Канада'],
   'Хірургічна медсестра. Спеціалізуюсь на перев''язках та догляді за ранами.'),
  
  ('55555555-5555-5555-5555-555555555553', '33333333-3333-3333-3333-333333333333',
   'Геріатрична', 12, 4.8, true,
   ARRAY['Центральний район', 'Новий світ', 'Схід'],
   'Спеціалізуюсь на догляді за літніми пацієнтами. 12 років досвіду.');

-- ================================================
-- 5. МЕДИЧНІ КАРТКИ ПАЦІЄНТІВ
-- ================================================

INSERT INTO public.patient_medical_records (id, patient_id, date_of_birth, gender, blood_type, allergies, chronic_conditions, current_medications, emergency_contact_name, emergency_contact_phone, consent_given, consent_date) VALUES
  ('66666666-6666-6666-6666-666666666661', '22222222-2222-2222-2222-222222222221',
   '1985-03-15', 'female', 'A_POSITIVE',
   ARRAY['Пеніцилін', 'Аспірин'],
   ARRAY['Гіпертонія'],
   ARRAY['Лізиноприл 10мг'],
   'Петро Коваленко', '+380501234568',
   true, NOW()),
  
  ('66666666-6666-6666-6666-666666666662', '22222222-2222-2222-2222-222222222222',
   '1978-11-22', 'male', 'O_NEGATIVE',
   ARRAY[]::text[],
   ARRAY['Діабет 2 типу'],
   ARRAY['Метформін 500мг', 'Вітамін D'],
   'Олена Бондаренко', '+380671234568',
   true, NOW()),
  
  ('66666666-6666-6666-6666-666666666663', '22222222-2222-2222-2222-222222222223',
   '1990-07-08', 'female', 'B_POSITIVE',
   ARRAY['Латекс'],
   ARRAY[]::text[],
   ARRAY[]::text[],
   'Віктор Мельник', '+380631234568',
   true, NOW());

-- ================================================
-- 6. ЗАМОВЛЕННЯ
-- ================================================

-- Замовлення 1: Виконане (Марія)
INSERT INTO public.orders (id, patient_id, nurse_id, status, scheduled_date, scheduled_time, address, city, notes, total_amount, created_at, updated_at) VALUES
  ('77777777-7777-7777-7777-777777777771', '22222222-2222-2222-2222-222222222221', '55555555-5555-5555-5555-555555555551',
   'completed', CURRENT_DATE - INTERVAL '5 days', '10:00',
   'вул. Шевченка, 15, кв. 4', 'Тернопіль',
   'Вхід з двору, 2 поверх', 350.00,
   NOW() - INTERVAL '6 days', NOW() - INTERVAL '5 days');

-- Замовлення 2: В процесі (Олег)
INSERT INTO public.orders (id, patient_id, nurse_id, status, scheduled_date, scheduled_time, address, city, notes, total_amount, created_at, updated_at) VALUES
  ('77777777-7777-7777-7777-777777777772', '22222222-2222-2222-2222-222222222222', '55555555-5555-5555-5555-555555555552',
   'in_progress', CURRENT_DATE, '14:00',
   'вул. Грушевського, 28', 'Тернопіль',
   'Код домофону: 1234', 380.00,
   NOW() - INTERVAL '1 day', NOW());

-- Замовлення 3: Підтверджене (Наталія)
INSERT INTO public.orders (id, patient_id, nurse_id, status, scheduled_date, scheduled_time, address, city, notes, total_amount, created_at, updated_at) VALUES
  ('77777777-7777-7777-7777-777777777773', '22222222-2222-2222-2222-222222222223', '55555555-5555-5555-5555-555555555553',
   'confirmed', CURRENT_DATE + INTERVAL '1 day', '11:00',
   'вул. Руська, 5, кв. 12', 'Тернопіль',
   NULL, 150.00,
   NOW(), NOW());

-- Замовлення 4: Очікує (Марія, повторне)
INSERT INTO public.orders (id, patient_id, nurse_id, status, scheduled_date, scheduled_time, address, city, notes, total_amount, created_at, updated_at) VALUES
  ('77777777-7777-7777-7777-777777777774', '22222222-2222-2222-2222-222222222221', NULL,
   'pending', CURRENT_DATE + INTERVAL '3 days', '09:00',
   'вул. Шевченка, 15, кв. 4', 'Тернопіль',
   'Потрібна крапельниця', 350.00,
   NOW(), NOW());

-- Замовлення 5: Скасоване (Олег)
INSERT INTO public.orders (id, patient_id, nurse_id, status, scheduled_date, scheduled_time, address, city, notes, total_amount, created_at, updated_at) VALUES
  ('77777777-7777-7777-7777-777777777775', '22222222-2222-2222-2222-222222222222', NULL,
   'cancelled', CURRENT_DATE - INTERVAL '2 days', '16:00',
   'вул. Грушевського, 28', 'Тернопіль',
   'Скасовано за ініціативою пацієнта', 200.00,
   NOW() - INTERVAL '3 days', NOW() - INTERVAL '2 days');

-- ================================================
-- 7. ПОЗИЦІЇ ЗАМОВЛЕНЬ
-- ================================================

-- Замовлення 1: Крапельниця
INSERT INTO public.order_items (order_id, service_id, quantity, price) VALUES
  ('77777777-7777-7777-7777-777777777771', '11111111-1111-1111-1111-111111111113', 1, 350.00);

-- Замовлення 2: Перев'язка + Вимірювання тиску
INSERT INTO public.order_items (order_id, service_id, quantity, price) VALUES
  ('77777777-7777-7777-7777-777777777772', '11111111-1111-1111-1111-111111111114', 1, 200.00),
  ('77777777-7777-7777-7777-777777777772', '11111111-1111-1111-1111-111111111116', 1, 80.00);

-- Замовлення 3: Внутрішньом'язова ін'єкція
INSERT INTO public.order_items (order_id, service_id, quantity, price) VALUES
  ('77777777-7777-7777-7777-777777777773', '11111111-1111-1111-1111-111111111111', 1, 150.00);

-- Замовлення 4: Крапельниця
INSERT INTO public.order_items (order_id, service_id, quantity, price) VALUES
  ('77777777-7777-7777-7777-777777777774', '11111111-1111-1111-1111-111111111113', 1, 350.00);

-- Замовлення 5: Внутрішньовенна ін'єкція (скасоване)
INSERT INTO public.order_items (order_id, service_id, quantity, price) VALUES
  ('77777777-7777-7777-7777-777777777775', '11111111-1111-1111-1111-111111111112', 1, 200.00);

-- ================================================
-- 8. ВІДГУКИ
-- ================================================

INSERT INTO public.reviews (order_id, patient_id, nurse_id, rating, comment, created_at) VALUES
  ('77777777-7777-7777-7777-777777777771', '22222222-2222-2222-2222-222222222221', '55555555-5555-5555-5555-555555555551',
   5, 'Чудова медсестра! Дуже професійно та акуратно. Рекомендую!', NOW() - INTERVAL '4 days');

-- ================================================
-- 9. РАЙОНИ ТЕРНОПІЛЬСЬКОЇ ОБЛАСТІ (для довідки)
-- ================================================

-- Можна створити окрему таблицю districts:
-- CREATE TABLE public.districts (
--   id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
--   name TEXT NOT NULL,
--   region TEXT DEFAULT 'Тернопільська область'
-- );
-- 
-- INSERT INTO public.districts (name) VALUES
--   ('Тернопільський'),
--   ('Бережанський'),
--   ('Борщівський'),
--   ('Бучацький'),
--   ('Гусятинський'),
--   ('Заліщицький'),
--   ('Збаразький'),
--   ('Зборівський'),
--   ('Козівський'),
--   ('Кременецький'),
--   ('Лановецький'),
--   ('Монастириський'),
--   ('Підволочиський'),
--   ('Підгаєцький'),
--   ('Теребовлянський'),
--   ('Чортківський'),
--   ('Шумський');

-- ================================================
-- ПРИМІТКИ ДЛЯ РОЗРОБНИКА
-- ================================================
-- 
-- 1. UUID користувачів у цьому файлі - тестові.
--    Для реальної роботи потрібно:
--    а) Створити користувачів через Supabase Auth
--    б) Використовувати їхні реальні UUID
--
-- 2. Паролі для тестових акаунтів (якщо створені):
--    - Пацієнти: TestPassword123!
--    - Медсестри: NursePassword123!
--    - Адмін: AdminPassword123!
--
-- 3. Для очищення тестових даних:
--    DELETE FROM public.reviews;
--    DELETE FROM public.order_items;
--    DELETE FROM public.orders;
--    DELETE FROM public.patient_medical_records;
--    DELETE FROM public.nurses;
--    DELETE FROM public.user_roles;
--    DELETE FROM public.profiles;
--    DELETE FROM public.services;
